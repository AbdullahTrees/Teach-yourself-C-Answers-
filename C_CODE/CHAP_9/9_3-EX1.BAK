#include <stdio.h>
#include <string.h>

int main(int argc, char *argv[])
{
	FILE *fpointer;
	unsigned long long int size_in_bytes = 0;
	//char ch;

	if (argc != 2)
	{
		printf("\nFile Size Measurer\nUsage: %s <filename>", argv[0]);
		return 1;
	}

	if ((fpointer = fopen(argv[1], "rb")) == NULL)
	{
		printf("\nError opening file: Are you sure the file exists?");
		return 255;
	}

	while (!feof(fpointer))
	{
		/*ch = fgetc(fpointer);  */
		//if (ch != EOF)  // WRONG! For binary files, EOF is certainly a possibility
		size_in_bytes++;
		fgetc(fpointer);

		if (ferror(fpointer))
		{
			printf("\nError reading file: Unknown error while reading the file");
			return 254;
		}
	}
	fclose(fpointer);
	
	printf("\nSize of the file %s is %llu bytes", argv[1], size_in_bytes);
	
	return 0;
}